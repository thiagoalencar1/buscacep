<div class="navbar-center bg-accent text-center">
  <a class="btn btn-ghost text-2xl" href="/">Busca CEP</a>
</div>

<div class="text-center" style="margin-top: 100px;">
  <h2 class="mb-4 text-2xl">Digite aqui o CEP desejado:</h2>

  <%= form_with url: find_cep_path, method: :post do |f| %>
    <%= f.text_field :find_cep, placeholder: "Digite o cep:", class: "input input-bordered input-lg w-full max-w-xs" %>
    <%= f.submit "Buscar", class: "btn btn-accent mt-4" %>
  <% end %>

  <% if @error.present? %>
    <div class="mt-4">
      <p><%= @error %></p>
    </div>
  <% end %>

  <% if @address.present? %>
    <%= render_address(@address) %>
  <% end %>
  
  <div style="display: flex; justify-content: space-between; max-width: 700px; margin: 100px auto;">
    <div class="mt-4" style="flex: 1; margin: 10px;">
      <h2 class="text-xl font-bold">Top 5 CEPs Consultados:</h2>
      <% CepLog.top_five.each do |cep_log| %>
        <p><strong>CEP:</strong> <%= cep_log.cep %> - <strong>Consultas:</strong> <%= cep_log.count %></p>
      <% end %>
    </div>

    <div class="mt-4" style="flex: 1; margin: 10px;">
      <h2 class="text-xl font-bold">Top 5 CEPs Consultados por Estado:</h2>
      <% CepLog.top_five_by_state.each do |cep_log| %>
        <p><strong>Estado:</strong> <%= cep_log.state %> - <strong>CEP:</strong> <%= cep_log.cep %> - <strong>Consultas:</strong> <%= cep_log.count %></p>
      <% end %>
    </div>
  </div>
</div>
